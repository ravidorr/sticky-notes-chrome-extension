<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    
    <!-- Google Fonts - Non-render-blocking -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
    
    <link rel="stylesheet" href="css/generate-key.min.css">
    
    <title>Generate API Key - Sticky Notes</title>
    <meta name="description" content="Generate an API key to use with Sticky Notes MCP server or dashboard">
    <meta name="robots" content="noindex">
</head>
<body>
    <main id="main-content" class="generate-key-page">
        <div class="container">
            <div class="key-form-card">
                <h1>Generate API Key</h1>
                <p>Sign in with Google to generate an API key for the Sticky Notes API or MCP server.</p>
                
                <div id="step1">
                    <button id="signInBtn" class="btn btn-primary">Sign in with Google</button>
                    <p id="userInfo" class="user-info" style="display: none;"></p>
                </div>
                
                <div id="step2" style="display: none;">
                    <hr class="form-divider">
                    
                    <div class="form-group">
                        <label for="keyName">Key Name</label>
                        <input type="text" id="keyName" placeholder="My Integration" value="Cursor MCP">
                    </div>
                    
                    <div class="form-group">
                        <label for="scopes">Permissions</label>
                        <select id="scopes">
                            <option value="both">Read & Write (notes:read, notes:write)</option>
                            <option value="read">Read Only (notes:read)</option>
                            <option value="write">Write Only (notes:write)</option>
                        </select>
                    </div>
                    
                    <button id="generateBtn" class="btn btn-primary">Generate API Key</button>
                </div>
                
                <p id="error" class="error-msg" style="display: none;"></p>
            </div>
            
            <div id="result" class="result-card" style="display: none;">
                <h3>Your API Key</h3>
                <div class="warning-box" role="alert">
                    Save this key now - it won't be shown again!
                </div>
                <div class="key-display" id="apiKeyDisplay" role="textbox" aria-readonly="true" aria-label="Generated API key"></div>
                
                <div class="btn-group">
                    <button id="copyBtn" class="btn btn-secondary">Copy to Clipboard</button>
                    <a href="dashboard.html" class="btn btn-primary">Go to Dashboard</a>
                </div>
                
                <h4>Test your key:</h4>
                <pre class="curl-example" id="curlExample" aria-label="Example curl command"></pre>
            </div>
        </div>
    </main>

    <script type="module" src="js/generate-key.min.js"></script>
</body>
</html>
